{% extends 'base.html' %}
{% load static %}

{% block title %}
  My Games - MapTag
{% endblock %}

{% block extra_head %}
  <!-- Required stylesheets -->
  <link rel="stylesheet" type="text/css" href="{% static 'styles/mygames.css' %}">

  <!-- Required scripts -->
  <script src="{% static 'scripts/mygames.js' %}" defer></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfIdLGhVXWF-JiBJuJle1Pp1YnHYutuC0&v=weekly" defer> </script>
{% endblock %}

{% block content %}
  <div class="w3-container tabs">
    <div class="w3-bar w3-grey">
      <button class="w3-bar-item w3-button tablink w3-dark-grey" onclick="openMode(event,'Your Games')">Your Games</button>
      <button class="w3-bar-item w3-button tablink" onclick="openMode(event,'Create a Game')">Create a Game</button>
    </div>

    <div id="Your Games" class="w3-container w3-border mode">
      <h2>Your Games</h2>
    </div>

    <div id="Create a Game" class="w3-container w3-border mode" style="display:none">
      <h2>Create a Game</h2>

      <div class="container submission-container">
        <form id="mapSubmissionForm">
          <div class="form-group">
            <label for="mapTitle">Map Title:</label>
            <input type="text" class="form-control" id="mapTitle" name="mapTitle" required />
          </div>

          <div class="form-group">
            <label for="canMove">Can Players Move?</label>
            <select class="form-control" id="canMove" name="canMove">
              <option value="no">No</option>
              <option value="yes">Yes</option>
            </select>
          </div>

          <div class="form-group">
            <label for="timerActive">Is Timer Active?</label>
            <select class="form-control" id="timerActive" name="timerActive" onchange="toggleTimerInput()">
              <option value="no">No</option>
              <option value="yes">Yes</option>
            </select>
          </div>

          <div id="timerSection" style="display: none;">
            <div class="form-group">
              <label for="timerDuration">Timer Duration (in seconds, max 10 min):</label>
              <input type="number" class="form-control" id="timerDuration" name="timerDuration" min="1" />
            </div>
          </div>

          <div class="form-group">
            <label for="mapDescription">Map Description:</label>
            <textarea class="form-control" id="mapDescription" name="mapDescription" rows="4" required></textarea>
          </div>
        </form>

        <div id="addOrDeleteButtons">
          <button type="button" class="btn btn-secondary" onclick="addCoordinate()">Add Coordinate</button>
        </div>

        <form id="locationSubmissionForm">
          <!-- Location 1 -->
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="lat1">Latitude (Location 1):</label>
              <input type="text" class="form-control" id="lat1" name="lat1" required />
            </div>
            <div class="form-group col-md-6">
              <label for="long1">Longitude (Location 1):</label>
              <input type="text" class="form-control" id="long1" name="long1" required />
            </div>
          </div>

          <button type="button" class="btn btn-primary" onclick="validateForm()">Submit</button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
